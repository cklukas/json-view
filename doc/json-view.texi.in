\input texinfo

@setfilename json-view.info
@settitle json-view Manual
@set VERSION @PROJECT_VERSION@

@copying
This manual is for @code{json-view}, a terminal JSON viewer.
Copyright (C) 2025 C. Klukas
@end copying

@dircategory Development
@direntry
* json-view: (json-view).  Terminal JSON viewer.
@end direntry

@titlepage
@title json-view
@subtitle Terminal JSON viewer
@subtitle Version @value{VERSION}
@author C. Klukas
@page
@insertcopying
@end titlepage

@contents

@ifnottex
@node Top
@top json-view

@insertcopying
@end ifnottex

@menu
* Introduction::
* Installation::
* Usage::
* Command-line Options::
* Key Bindings::
* Concept Index::
@end menu

@node Introduction
@chapter Introduction
@cindex introduction
@cindex JSON viewer

@code{json-view} displays JSON documents as an interactive tree.  It uses the
@code{ncurses} library and supports both keyboard and mouse navigation.  Use it
to quickly explore large documents directly from your terminal.

@node Installation
@chapter Installation
@cindex installation

Building from source requires a C++20 compiler, CMake, the wide-character
@code{ncursesw} library and @code{nlohmann/json}.  To build and install run:

@example
cmake -S . -B build
cmake --build build
sudo cmake --install build
@end example

The install prefix can be changed by adding
@code{-DCMAKE_INSTALL_PREFIX=/usr} when configuring CMake.

@node Usage
@chapter Usage
@cindex usage

Invoke @code{json-view} with one or more file names:

@example
json-view example.json another.json
@end example

If no file is supplied the program reads a single document from standard
input, making it easy to use in pipelines:

@example
cat data.json | json-view
@end example

To pretty-print JSON without launching the interactive viewer, use
@code{--parse-only}:

@example
json-view --parse-only file.json
@end example

To validate JSON and return a status code, use @code{--validate}:

@example
json-view --validate file.json
@end example

@node Command-line Options
@chapter Command-line Options
@cindex options

@table @code
@item -h, --help
Display a short usage summary and exit.
@item -V, --version
Show version information and exit.
@item -p, --parse-only
Pretty-print input JSON and exit.
@item --validate
Validate JSON input and exit with a status code.
@item --no-mouse
Disable mouse support and use only the keyboard.
@end table

@node Key Bindings
@chapter Key Bindings
@cindex key bindings
@cindex navigation
@cindex search

@itemize @bullet
@item @kbd{Up}/@kbd{Down} -- move the selection
@item @kbd{Left}/@kbd{Right} -- collapse or expand nodes
@item @kbd{PgUp}/@kbd{PgDn} -- move one page up or down
@item @kbd{Home}/@kbd{End} -- jump to the first or last visible item
@item @kbd{+}/@kbd{-} -- expand all / collapse all
@item @kbd{0-9} -- expand to a specific nesting level (0 collapses all)
@item @kbd{s} -- search keys
@item @kbd{S} -- search values
@item @kbd{n}/@kbd{N} -- next/previous search match
@item @kbd{c} -- clear current search results
@item @kbd{y} -- copy selected JSON to the clipboard (OSC 52 when available)
@item @kbd{?} -- show the help screen
@item @kbd{q} -- quit
@item Mouse -- click to select, click left of a label or double-click to expand/collapse, click footer hints to trigger actions, click anywhere in the help screen to close it
@end itemize

@node Concept Index
@unnumbered Concept Index

@printindex cp

@bye
